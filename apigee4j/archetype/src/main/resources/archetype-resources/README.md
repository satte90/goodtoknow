#macro( ccase $str )
#foreach( $word in $str.split('-') )$word.substring(0,1).toUpperCase()$word.substring(1)#end
#end
#set( $classNamePrefix = "#ccase( $api-name )" )
# **apigee4j :: ${classNamePrefix}**

## Autogenerated readme file! 
TODO: Review and remove this todo

## Purpose: 

Provides java sdk for integrating with __${classNamePrefix}__ via Apigee

## About

[apigee4j](https://diva.teliacompany.net/bitbucket/projects/DCVT/repos/apigee4j-${api-name}/browse) integration module for ${classNamePrefix}.

 - Generates java models from swagger json for ${classNamePrefix}.
 - Provides a ${classNamePrefix} WebClient
 
### Configuration

The following config is needed to be set by consumer (using application).
```
apigee.key
apigee.secret
```

 
## Usage

### Maven

Add maven dependency: 

```xml
<!-- ${classNamePrefix} -->
<dependency>
    <groupId>${groupId}</groupId>
    <artifactId>${artifactId}</artifactId>
    <version>${version}</version>
</dependency>
```
_Find latest version on [Artifactory](https://artifactory.dc.teliacompany.net/webapp/#/home)_

### Java Client

In a spring boot application the java client will be registered automatically. Simply autowire it to one of your beans:
```java
@Component
public class MyIntegrationClient {
    private final ${classNamePrefix}ClientConfig clientConfig;
    private final ${classNamePrefix}WebClientV${api-major-version} webClient;
    
    @Autowired
    public My${classNamePrefix}Client(${classNamePrefix}WebClientV${api-major-version} webClient) {
        this.clientConfig = webClient.getClientConfig();
        this.webClient = webClient;
    }
}
```

## Update swagger json

Run with profile `update_api` to download latest swagger json file
```bash
mvn clean install -Pupdate_api
```

Java models are generated from `apigee4j-${api-name}_v#_#.json` located in `src/main/resources/swagger`. This file can be automatically updated running above command.
 
See [apigee4j](https://diva.teliacompany.net/bitbucket/projects/DCVT/repos/apigee4j/browse) on bitbucket for more details and how to create your own apigee4j module.